<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Kölle kreuzt clever</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #fff9c4, #ffe0f0, #e0f7fa, #e6f4ea, #ffffff);
      background-size: 400% 400%;
      animation: gradientFlow 15s ease infinite;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    @keyframes gradientFlow {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .container {
      max-width: 800px;
      margin-top: 3rem;
      padding: 2rem;
      background-color: rgba(255, 255, 255, 0.85);
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    h1 {
      color: #c62828;
      font-size: 2.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
      text-shadow: 1px 1px 3px #aaa;
    }

    .question-counter {
      font-weight: bold;
      color: #333;
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }

    .question-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1rem;
      max-width: 600px;
      width: 100%;
    }

    .nav-arrow {
      cursor: pointer;
      font-size: 2.5rem;
      user-select: none;
      color: #c62828;
      width: 50px;
      text-align: center;
      font-weight: bold;
      border-radius: 6px;
      transition: background-color 0.2s ease;
      user-select: none;
    }

    .nav-arrow:hover {
      background-color: rgba(198,40,40,0.1);
    }

    .question p {
      font-size: 1.15rem;
      line-height: 1.5;
      margin: 0 1rem;
      font-weight: 600;
      color: #222;
      position: relative;
      padding-right: 30px;
      flex: 1;
      text-align: center;
    }

    .heart {
      position: absolute;
      right: 0;
      top: 0;
      font-size: 24px;
      cursor: pointer;
      user-select: none;
      color: black; /* standard schwarz */
      transition: color 0.3s ease;
    }

    .heart.active {
      color: #e63946; /* rot wenn aktiv */
    }

    .btn-group {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      max-width: 600px;
      width: 100%;
    }

    .btn-group button {
      flex: 1;
      padding: 0.7rem 1.2rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: background-color 0.3s ease;
      color: #111;
      max-width: 180px;
      min-width: 120px;
    }

    /* Button Farben */
    button.start-btn {
      background-color: #b39ddb; /* Pastell lila */
      color: #2c2c54;
    }
    button.start-btn:hover {
      background-color: #9575cd;
      color: #fff;
    }

    button.btn-disagree {
      background-color: #f8bbd0; /* Pastell rot */
      color: #880e4f;
    }
    button.btn-disagree:hover {
      background-color: #ec407a;
      color: #fff;
    }

    button.btn-neutral {
      background-color: #fff9c4; /* Pastell gelb */
      color: #f57f17;
    }
    button.btn-neutral:hover {
      background-color: #fff176;
      color: #000;
    }

    button.btn-agree {
      background-color: #c8e6c9; /* Pastell grün */
      color: #2e7d32;
    }
    button.btn-agree:hover {
      background-color: #66bb6a;
      color: #fff;
    }

    button.btn-next {
      background-color: #90caf9;
      color: #0d47a1;
    }
    button.btn-next:hover {
      background-color: #42a5f5;
      color: #fff;
    }

    .tool-hinweis {
      background-color: #fff3f3;
      border-left: 5px solid #c62828;
      padding: 1rem;
      margin-top: 2rem;
      margin-bottom: 2rem;
      font-size: 1rem;
      line-height: 1.5;
      border-radius: 6px;
      max-width: 600px;
      width: 100%;
      text-align: left;
    }

    .result {
      margin-top: 2rem;
      font-size: 1.1rem;
      color: #222;
      max-width: 600px;
      width: 100%;
    }

    .result h2 {
      color: #c62828;
      margin-bottom: 1rem;
      text-align: center;
    }

    .result ul {
      list-style-type: none;
      padding: 0;
      max-height: 400px;
      overflow-y: auto;
    }

    .result li {
      margin-bottom: 0.5rem;
      padding: 0.3rem 0.5rem;
      border-bottom: 1px solid #ddd;
      font-weight: 600;
      border-radius: 6px;
    }

    .footer-link {
      margin-top: 3rem;
      text-align: center;
      font-size: 0.95rem;
    }

    .footer-link a {
      text-decoration: none;
      color: #0077cc;
      font-weight: 600;
    }

    .footer-link a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Kölle kreuzt clever</h1>
    <div id="app"></div>
    <div id="result" class="result"></div>
    <div class="footer-link">
      <a href="index.html">← Zurück zur Startseite</a>
    </div>
  </div>

  <script>
    const questions = [
      "Köln soll mehr Clubs, Jugendzentren und Freizeitorte für junge Menschen schaffen.",
      "Bei neuen Wohnungen in Köln sollen günstige Plätze für Azubis und junge Erwachsene mitgeplant werden.",
      "An öffentlichen Plätzen und Haltestellen in Köln soll es flächendeckend kostenloses WLAN geben.",
      "Jugendliche sollen in Köln stärker an der Kommunalpolitik beteiligt werden.",
      "Köln soll mehr kostenlose Sport- und Bewegungsangebote im Freien anbieten.",
      "Köln soll mehr sichere Fahrradwege und Fahrradparkplätze bauen.",
      "Busse, Bahnen und Fahrräder sollen in der Innenstadt Vorrang vor Autos haben.",
      "Schüler:innen in Köln sollen kostenlos Bus und Bahn fahren dürfen.",
      "Nachtbusse und Verbindungen in Außenbezirke sollen verbessert werden.",
      "Einige Teile der Innenstadt sollen autofrei werden.",
      "Kreative Projekte und junge Start-ups sollen Räume und Geld zur Unterstützung bekommen.",
      "Bei neuen Gebäuden soll stärker auf bezahlbare Wohnungen geachtet werden.",
      "Kölner Schulen sollen modernisiert und besser für digitalen Unterricht ausgestattet werden.",
      "Das Schulessen soll kostenlos und möglichst in Bio-Qualität angeboten werden.",
      "Alle Schultoiletten in Köln sollen sauber, modern und regelmäßig gepflegt sein.",
      "Köln soll bis 2035 klimaneutral werden.",
      "Beim Sparen soll nicht an Umwelt- und Jugendprojekten gekürzt werden.",
      "Die Stadt soll sich stärker um saubere Straßen, Parks und öffentliche Plätze kümmern.",
      "Schulen sollen mehr gegen Rassismus, Queerfeindlichkeit und andere Diskriminierung tun.",
      "Die Stadt soll Angebote für junge Menschen zur mentalen Gesundheit ausbauen.",
      "Geflüchtete sollen in Köln mehr Angebote zur Teilhabe und Unterstützung bekommen.",
      "Die Stadtverwaltung soll digitaler und einfacher für junge Menschen werden.",
      "Köln soll enger mit seinen europäischen Partnerstädten zusammenarbeiten."
    ];

    const partyColors = {
      "SPD": "#E3000F", "CDU": "#000000", "Bündnis 90/Die Grünen": "#1AA037", "FDP": "#FFCC00",
      "AfD": "#009EE0", "Die Linke": "#D0006F", "Volt": "#5D3FD3", "Freie Wähler": "#F28C00",
      "Partei des Fortschritts": "#00BFAE", "Kölner Stadt-Gesellschaft": "#808080", "Die PARTEI": "#A40000",
      "Gut & Klimafreunde": "#7ED957", "Bündnis Deutschland": "#003366", "Marxistisch-Leninistische Partei Deutschlands": "#D10000",
      "Ödp": "#FF9900", "BSW": "#8E44AD"
    };

    const partyPositions = {
      "SPD": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      "CDU": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      "Bündnis 90/Die Grünen":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      "FDP": [1,1,1,1,1,1,-1,-1,1,-1,1,1,1,0,1,-1,0,1,0,1,1,1,1],
      "AfD": [1,0,0,1,1,1,-1,-1,1,-1,0,0,1,-1,1,-1,-1,1,1,0,-1,1,0],
      "Die Linke": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      "Volt": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      "Partei des Fortschritts":[1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1],
      "Kölner Stadt-Gesellschaft":[1,1,1,1,1,1,-1,1,1,-1,1,1,1,1,1,0,1,1,1,1,1,1,1],
      "Die PARTEI": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      "Gut & Klimafreunde": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      "Bündnis Deutschland": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      "Marxistisch-Leninistische Partei Deutschlands": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      "Ödp": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      "BSW": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
    };

    let currentQuestion = 0;
    let userAnswers = Array(questions.length).fill(null).map(() => ({value: null, weight: 1}));

    const app = document.getElementById("app");
    const resultDiv = document.getElementById("result");

    function showIntro() {
      currentQuestion = 0;
      userAnswers = Array(questions.length).fill(null).map(() => ({value: null, weight: 1}));
      resultDiv.innerHTML = "";
      app.innerHTML = `
        <div style="max-width:600px; margin:auto; text-align:center;">
          <p style="font-size:1.2rem; line-height:1.5; margin-bottom:2rem;">
            Willkommen zu <strong>Kölle kreuzt clever</strong> – deinem interaktiven Tool, um deine politische Haltung zu
            aktuellen Kölner Themen zu testen. Du kannst jeder Frage zustimmen, neutral bleiben oder ablehnen.
            Außerdem kannst du wichtige Fragen mit einem Klick auf das Herz <span style="color:#e63946;">&#10084;</span>
            gewichten.
          </p>
          <button class="start-btn" onclick="renderQuestion()">Los geht's!</button>
        </div>
      `;
    }

    function renderQuestion() {
      resultDiv.innerHTML = "";
      const q = questions[currentQuestion];
      const answer = userAnswers[currentQuestion];

      app.innerHTML = `
        <div class="question-counter">Frage ${currentQuestion + 1} von ${questions.length}</div>
        <div class="question-wrapper">
          <div class="nav-arrow" id="prev-arrow" ${currentQuestion === 0 ? 'style="visibility:hidden;"' : ''}>&lt;</div>
          <div class="question" style="position:relative;">
            <p>${q}</p>
            <div class="heart ${answer.weight > 1 ? "active" : ""}" id="heart">&#10084;</div>
          </div>
          <div class="nav-arrow" id="next-arrow" ${currentQuestion === questions.length -1 ? 'style="visibility:hidden;"' : ''}>&gt;</div>
        </div>
        <div class="btn-group">
          <button class="btn-disagree" id="btn-disagree">Stimme nicht zu</button>
          <button class="btn-neutral" id="btn-neutral">Neutral</button>
          <button class="btn-agree" id="btn-agree">Stimme zu</button>
        </div>
      `;

      document.getElementById("prev-arrow").onclick = () => {
        if (currentQuestion > 0) {
          currentQuestion--;
          renderQuestion();
        }
      };
      document.getElementById("next-arrow").onclick = () => {
        if (currentQuestion < questions.length -1) {
          currentQuestion++;
          renderQuestion();
        }
      };

      document.getElementById("heart").onclick = () => {
        userAnswers[currentQuestion].weight = userAnswers[currentQuestion].weight === 1 ? 2 : 1;
        renderQuestion();
      };

      document.getElementById("btn-disagree").onclick = () => {
        userAnswers[currentQuestion].value = -1;
        if(currentQuestion < questions.length -1) {
          currentQuestion++;
          renderQuestion();
        } else {
          calculateResult();
        }
      };
      document.getElementById("btn-neutral").onclick = () => {
        userAnswers[currentQuestion].value = 0;
        if(currentQuestion < questions.length -1) {
          currentQuestion++;
          renderQuestion();
        } else {
          calculateResult();
        }
      };
      document.getElementById("btn-agree").onclick = () => {
        userAnswers[currentQuestion].value = 1;
        if(currentQuestion < questions.length -1) {
          currentQuestion++;
          renderQuestion();
        } else {
          calculateResult();
        }
      };
    }

    function calculateResult() {
      let results = {};
      for (const party in partyPositions) {
        let score = 0;
        let totalWeight = 0;
        for (let i = 0; i < questions.length; i++) {
          const userAnswer = userAnswers[i].value;
          if (userAnswer === null) continue;
          const userWeight = userAnswers[i].weight;
          const partyPos = partyPositions[party][i];
          if (partyPos === 0) continue;

          score += (userAnswer === partyPos ? 1 : 0) * userWeight;
          totalWeight += userWeight;
        }
        results[party] = totalWeight > 0 ? (score / totalWeight) * 100 : 0;
      }

      const sortedResults = Object.entries(results)
        .sort((a, b) => b[1] - a[1]);

      let html = `<h2>Deine Übereinstimmung mit Parteien</h2><ul>`;
      for (const [party, score] of sortedResults) {
        const color = partyColors[party] || "#666";
        html += `<li style="color:${color};">${party}: ${score.toFixed(1)}%</li>`;
      }
      html += `</ul>`;

      resultDiv.innerHTML = html;

      app.innerHTML = `
        <div style="text-align:center; margin-top: 2rem;">
          <button class="start-btn" onclick="showIntro()">Neu starten</button>
        </div>
      `;
    }

    showIntro();
  </script>
</body>
</html>

